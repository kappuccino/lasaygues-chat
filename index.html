<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>

<p>Users</p>
<pre id="users">...</pre>

<p>Rooms</p>
<pre id="rooms">...</pre>


<script src="/socket.io/socket.io.js"></script>
<script>
	const users = document.querySelector('#users')
	const rooms = document.querySelector('#rooms')

    let socket = io.connect('http://localhost:8080')

	socket.on('connect', function () {
		console.log('Connected')
	})

	socket.on('userList', function (data) {
		console.log('userList', data)
		users.innerHTML = JSON.stringify(data, null, 2)
	})

	socket.on('roomsList', function (data) {
		console.log('roomsList', data)
        rooms.innerHTML = JSON.stringify(data, null, 2)
	})

	function getParameterByName(name, url) {
		if (!url) url = window.location.href;
		name = name.replace(/[\[\]]/g, "\\$&");
		var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
			results = regex.exec(url);
		if (!results) return null;
		if (!results[2]) return '';
		return decodeURIComponent(results[2].replace(/\+/g, " "));
	}
</script>

</body>
</html>